<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>lang word</title>
  <style>
    :root { color-scheme: light dark; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 2rem; line-height: 1.5; }
    main { max-width: 42rem; margin: 20vh auto; }
    a { text-decoration: none; border-bottom: 1px solid currentColor; }
    .word { font-size: 2rem; margin: 0 0 1rem; }
    .meta { opacity: .8; }
  </style>
</head>
<body>
  <main>
    <p><a href="./">← back</a></p>
    <h1 class="word" id="word">…</h1>
    <p class="meta" id="meta"></p>
  </main>

  <script>
    const params = new URLSearchParams(location.search);
    const id = params.get("id");

    async function loadWord() {
      if (!id) {
        document.getElementById("word").textContent = "missing id";
        return;
      }

      try {
        const res = await fetch(`/api/lang_words/${encodeURIComponent(id)}`);
        if (!res.ok) throw new Error("not found");

        const data = await res.json();
        document.getElementById("word").textContent = data.word;
        document.getElementById("meta").textContent = `id ${data.id}`;
        document.title = data.word;
      } catch {
        document.getElementById("word").textContent = "word not found";
      }
    }

    loadWord();
  </script>
</body>
</html>
